<!DOCTYPE html>
<html>
<head>
  <title>VividAI Icon Generator</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      padding: 40px;
      background: #1E293B;
      color: #F8FAFC;
    }
    h1 { margin-bottom: 20px; }
    .icon-preview {
      display: flex;
      gap: 20px;
      margin: 20px 0;
      align-items: flex-end;
    }
    .icon-item {
      text-align: center;
    }
    .icon-item span {
      display: block;
      margin-top: 8px;
      font-size: 12px;
      color: #94A3B8;
    }
    canvas { border: 1px solid #475569; border-radius: 8px; }
    button {
      background: #F97316;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 14px;
      cursor: pointer;
      margin-top: 20px;
    }
    button:hover { background: #EA580C; }
    .instructions {
      background: #334155;
      padding: 20px;
      border-radius: 8px;
      margin-top: 30px;
    }
    .instructions ol {
      margin-left: 20px;
    }
    .instructions li {
      margin: 8px 0;
    }
  </style>
</head>
<body>
  <h1>ðŸŽ¤ VividAI Icon Generator</h1>
  <p>Generate PNG icons for the browser extension</p>
  
  <div class="icon-preview">
    <div class="icon-item">
      <canvas id="icon16" width="16" height="16"></canvas>
      <span>16x16</span>
    </div>
    <div class="icon-item">
      <canvas id="icon48" width="48" height="48"></canvas>
      <span>48x48</span>
    </div>
    <div class="icon-item">
      <canvas id="icon128" width="128" height="128"></canvas>
      <span>128x128</span>
    </div>
  </div>
  
  <button onclick="downloadAll()">Download All Icons</button>
  
  <div class="instructions">
    <h3>Instructions:</h3>
    <ol>
      <li>Click "Download All Icons" to download the PNG files</li>
      <li>Move the downloaded files to the <code>icons/</code> folder</li>
      <li>Replace the existing .svg files with the .png files</li>
      <li>Reload the extension in Chrome</li>
    </ol>
  </div>

  <script>
    const sizes = [16, 48, 128];
    
    function drawIcon(canvas, size) {
      const ctx = canvas.getContext('2d');
      const scale = size / 32;
      
      // Clear canvas
      ctx.clearRect(0, 0, size, size);
      
      // Draw blue circle
      ctx.fillStyle = '#1E40AF';
      ctx.beginPath();
      ctx.arc(16 * scale, 16 * scale, 14 * scale, 0, Math.PI * 2);
      ctx.fill();
      
      // Draw orange play triangle
      ctx.fillStyle = '#F97316';
      ctx.beginPath();
      ctx.moveTo(12 * scale, 10 * scale);
      ctx.lineTo(22 * scale, 16 * scale);
      ctx.lineTo(12 * scale, 22 * scale);
      ctx.closePath();
      ctx.fill();
    }
    
    // Draw all icons
    sizes.forEach(size => {
      const canvas = document.getElementById(`icon${size}`);
      drawIcon(canvas, size);
    });
    
    function downloadAll() {
      sizes.forEach((size, index) => {
        setTimeout(() => {
          const canvas = document.getElementById(`icon${size}`);
          const link = document.createElement('a');
          link.download = `icon${size}.png`;
          link.href = canvas.toDataURL('image/png');
          link.click();
        }, index * 500); // Stagger downloads
      });
    }
    
    // Show path instructions
    function showInstructions() {
      const extensionPath = window.location.href.replace('tools/generate-icons.html', 'icons/');
      document.querySelector('.instructions ol').innerHTML = `
        <li>Click "Download All Icons" below</li>
        <li>In Finder, go to:<br><code style="font-size:11px">${extensionPath.replace('file://', '')}</code></li>
        <li>Replace the existing PNG files with the downloaded ones</li>
        <li>Reload the extension in chrome://extensions</li>
      `;
    }
    showInstructions();
  </script>
</body>
</html>
